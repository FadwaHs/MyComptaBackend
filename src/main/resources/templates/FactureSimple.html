<!DOCTYPE html>
<html lang="en" xmlns:th="http://wwww.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8"/>
    <title>Facture Simple</title>
    <link rel="stylesheet" href="style.css"/>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif;
        }


        .text-center {
            text-align: center;
        }
        /* Styles pour le div du destinataire */
        .inline-div.destinataire {
            flex: 1;
            padding: 10px;

        }

        /* Styles pour le div de l'émetteur */
        .inline-div.emetteur {
            flex: 1;
            padding: 10px;
        }

        /* Styles pour le label */
        .label {
            font-size: 18px;
            font-weight: bold;
        }

        /* Styles pour les h6 */
        .inline-div h6 {
            margin: 5px 0;
        }

        /* Styles pour les spans */
        .inline-div span {
            font-weight: normal;
        }

        /* Réduire la taille de la police pour les petites informations */
        .small {
            font-size: 12px;
            color: #666;
        }


        /* Container principal */
        .container {
            display: flex;
            justify-content: space-between; /* Les div seront placés côte à côte avec un espace entre eux */
        }

        /* Div du destinataire */
        .inline-div.destinataire {
            display: inline-block;
            flex: 1; /* Div prendra une part égale de l'espace disponible */
        }




        .label {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
        }


        .table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        .table th, .table td {
            border: 1px solid #ccc;
            padding: 8px;
        }

        .table thead th {
            background-color: #f2f2f2;
            font-weight: bold;
        }

        .table-secondary th, .table-secondary td {
            background-color: #f7f7f7;
        }

        .small {
            font-size: 14px;
        }


        /* Ajoutez des styles pour le pied de page */
        footer {
            position: fixed;
            bottom: 0;
            width: 100%;

            padding: 5px; /* Réduisez la taille du padding pour réduire l'espace */

            font-size: 8px; /* Réduisez la taille de la police pour réduire l'espace */
            color: #888;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .row {
            display: flex;
        }

        .col {
            flex: 1;
            padding: 10px;
        }

        .text-right {
            text-align: right;
        }
        .inline-div {
            display: inline-block;
            width: 45%; /* Vous pouvez ajuster la largeur selon vos besoins */
        }





    </style>
</head>
<body>
<div class="container">
    <h5 class="text-center">Facture Simple <span th:text="${facture.code}"></span></h5>
    <h6 class="text-center" th:text="${#dates.format(facture.date, 'dd-MM-yyyy')}"></h6>
    <!--
       <div class="row flex-row-reverse">


        Aligne le contenu du destinataire à droite -->
    <div class="container">

        <div class="row">
            <div class="inline-div emetteur">
                <h5 class="label">Emetteur </h5>
                <h6><span>Votre contact :</span> <span>Nom du contact</span></h6>
                <h6><span>Adresse :</span> <span>Adresse de l'émetteur</span></h6>
                <h6><span>Pays :</span> <span>Pays de l'émetteur</span></h6>
                <h6><span>Adresse email :</span> <span>Email de l'émetteur</span></h6>

            </div>
            <div class="inline-div destinataire">
                <h5 class="label">Destinataire</h5>
                <div th:if="${facture.client != null}">
                    <h6>
                        <span th:if="${facture.client.societe == null}">Client:</span>
                        <span th:if="${facture.client.societe != null}">Client/Societe:</span>
                        <span class="small" th:text="${facture.client.firstName + ' ' + facture.client.lastName}"></span>
                    </h6>
                    <h6 th:if="${facture.client.societe == null}">
                        <span>Adresse:</span>
                        <span class="small" th:text="${facture.client?.address?.address != null ? facture.client.address.address : ''}"></span>
                    </h6>
                    <h6 th:if="${facture.client.societe == null}">
                        <span>Pays:</span>
                        <span class="small" th:text="${facture.client?.address?.country != null ? facture.client.address.country : ''}"></span>
                    </h6>
                    <h6>
                        <span>Numero de Telephone :</span>
                        <span class="small" th:text="${facture.client.phoneList.size() > 0 ? facture.client.phoneList[0].phoneNumber : ''}"></span>
                    </h6>
                    <h6><span>Adresse email:</span> <span class="small" th:text="${facture.client.email}"></span></h6>
                    <h6 th:if="${facture.client.societe}">
                        <span>Societe:</span> <span class="small" th:text="${facture.client.societe.name}"></span>
                    </h6>
                    <h6 th:if="${facture.client.societe}">
                        <span>Adresse:</span>
                        <span class="small" th:text="${facture.client.societe?.address?.address != null ? facture.client.societe.address.address : ''}"></span>
                    </h6>
                    <h6 th:if="${facture.client.societe}">
                        <span>Pays:</span>
                        <span class="small" th:text="${facture.client.societe?.address?.country != null ? facture.client.societe.address.country : ''}"></span>
                    </h6>
                    <h6 th:if="${facture.client.societe}">
                        <span>Adresse email:</span> <span class="small" th:text="${facture.client.societe.website}"></span>
                    </h6>
                </div>
                <div th:if="${facture.societe}">
                    <h6><span>Societe:</span> <span class="small" th:text="${facture.societe.name}"></span></h6>
                    <h6><span>Adresse:</span> <span class="small" th:text="${facture.societe?.address?.address != null ? facture.societe.address.address : ''}"></span></h6>
                    <h6><span>Pays:</span> <span class="small" th:text="${facture.societe?.address?.country != null ? facture.societe.address.country : ''}"></span></h6>
                    <h6><span>Web Site:</span> <span class="small" th:text="${facture.societe.website}"></span></h6>
                    <h6><span>SIREN/ICE:</span><span class="small" th:text="${facture.societe.siren}"></span></h6>
                    <h6><span>Numero TVA:</span><span class="small" th:text="${facture.societe.ntva}"></span></h6>
                </div>
            </div>

        </div>
    </div>


    <div>
        <h4 class="label"  >Description</h4>
        <p> <span th:text="${facture.textIntro}"></span></p>
    </div>


    <table class="table">
        <thead class="table-secondary">
        <tr>
            <th class="table-secondary">Type</th>
            <th class="table-secondary">Description</th>
            <th class="table-secondary">Prix Unitaire HT</th>
            <th class="table-secondary">Quantité</th>
            <th class="table-secondary">TVA</th>
            <th class="table-secondary">Réduction</th>
            <th class="table-secondary">Total HT</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="article : ${facture.articleList}">
            <td th:text="${article.typeArticle.name_fr}"></td>
            <td th:text="${article.description}"></td>
            <td><span th:text="${article.prixHT + ' ' + calculeService.devise(facture.devise)}"></span></td>
            <td th:text="${article.quantity}"></td>
            <td th:text="${article.tva + ' %'}"></td>
            <td>
                <div>
                    <span class="small" th:if="${facture.isRemIsPercentage}" th:text="${article.reduction + ' %'}"></span>
                    <span class="small" th:if="${!facture.isRemIsPercentage}" th:text="${article.reduction + ' ' + calculeService.devise(facture.devise)}"></span>
                </div>
            </td>
            <td th:text="${calculeService.calculht(article)+ ' ' + calculeService.devise(facture.devise)}"></td>
        </tr>
        </tbody>
    </table>

    <div class="container">
        <div class="row">
            <div class="col"></div> <!-- Colonne vide à gauche -->
            <div class="col-3"> <!-- Colonne pour le contenu principal -->
                <table class="table float-right"> <!-- Utilisation de la classe "float-right" pour aligner le tableau à droite -->
                    <tbody>
                    <tr>
                        <td>Total HT :</td>
                        <td><span class="small" th:text="${facture.totalHT} + ' ' + ${calculeService.devise(facture.devise)}"></span></td>
                    </tr>
                    <tr>
                        <td>Remise Générale :</td>
                        <td> <span class="small" th:if="${facture.isRemIsPercentage}" th:text="${facture.remise + ' %'}"></span>
                            <span class="small" th:if="${!facture.isRemIsPercentage}" th:text="${facture.remise + ' ' + calculeService.devise(facture.devise)}"></span>
                        </td>
                    </tr>
                    <tr th:each="article : ${facture.articleList}">
                        <td>TVA (<span class="small" th:text="${article.tva}"></span> %) :</td>
                        <td><span class="small" th:text="${calculeService.calculetva(article)} + ' ' + ${calculeService.devise(facture.devise)}"></span></td>
                    </tr>
                    <tr>
                        <td>Total TTC:</td>
                        <td><span class="small" th:text="${facture.totalTTC} + ' ' + ${calculeService.devise(facture.devise)}"></span></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>


    <div>
        <h4 class="label"> Conditions </h4>

        <h6>Conditions de règlement : <span class="small" th:text="${facture.conditionReglement.name}"></span></h6>
        <h6>Mode de règlement : <span class="small" th:text="${facture.modeReglement.name}"></span></h6>
        <h6>Intérêts de retard : <span class="small" th:text="${facture.interet.name}"></span></h6>
        <h4> Notes :<p class="small" th:text="${facture.textCond}"></p></h4>
    </div>

    <footer>
        <p> <span th:text="${facture.piedPage}"></span></p>
    </footer>

    <h4 class="label">Conditions generales de vente<br/> <span class="small" th:text="${facture.condVente}"></span></h4>
</div>

<!-- No Bootstrap JavaScript dependencies needed -->

</body>
</html>